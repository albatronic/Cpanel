# -------------------------
# APP CATALOGO DE PRODUCTOS
#
# DATE: 26-01-2013
# AUTHOR: SERGIO PEREZ
# COMPANY: ARTICO ESTUDIO
# -------------------------

# Jerarquia de Categorías, Familias, Subfamilias, etc
ErpFamilias:
  engine: mysql
  charSet:
  comment: Familias de productos
  columns:
    Titulo:           { type: string(255), notnull: true, index: index}
    Subtitulo:        { type: string(255), notnull: false, default: NULL }
    Descripcion1:     { type: string(255), notnull: false, default: NULL }
    Descripcion2:     { type: string(255), notnull: false, default: NULL }     
    NivelJerarquico:  { type: integer(4), notnull: true, default: 1, index: index }
    Inventario:       { type: tinyint(1), notnull: true, default: 1, comment: 'Abstract,ValoresSN,IDTipo' }
    Trazabilidad:     { type: tinyint(1), notnull: true, default: 1, comment: 'Abstract,ValoresSN,IDTipo' }
    MargenMinimo:     { type: decimal(), notnull: true, default: 0 }
    MargenWeb:        { type: decimal(), notnull: true, default: 0 }    
    Caducidad:        { type: integer(4), notnull: true, default: 0 }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>
  relations:

# Marcas comerciales / fabricantes
ErpMarcas:
  comment: Marcar comerciales/fabricantes
  columns:
    Titulo:       { type: string(50), notnull: true, index: index }
    Descripcion1: { type: string(255), notnull: false, default: NULL }
    Descripcion2: { type: string(255), notnull: false, default: NULL }     
    Telefono:     { type: string(30), notnull: true }
    Web:          { type: string(100), notnull: true }
    Email:        { type: string(100), notnull: true }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>      
  relations:
    
# Propiedades de los productos (tallas, colores, formatos, etc)
ErpPropiedades:
  comment: Propiedades de los productos
  columns:
    Titulo: { type: string(30), notnull: true, index: index }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>
  relations:

# Valores estandar de las propiedades
ErpPropiedadesValores:
  comment: Valores estandar de las propiedades
  columns:
    IdPropiedad:  { type: bigint(11), notnull: true, index: index, comment: 'db,ErpPropiedades,Id'}
    Valor:        { type: string(20), notnull: true }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>    
  relations:
    
# Valores posibles de la tupla: familia-marca-propiedad
ErpPropiedadesFamiliasMarcas:
  comment: Valores posibles de la tupla familia-marca-propiedad
  columns:
    IdFamilia:    { type: bigint(11), notnull: true, index: index, comment: 'db,ErpFamilias,Id'}
    IdMarca:      { type: bigint(11), notnull: true, index: index, comment: 'db,ErpMarcas,Id'}
    IdPropiedad:  { type: bigint(11), notnull: true, index: index, comment: 'db,ErpPropiedades,Id'}
    Valor:        { type: string(20), notnull: true }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>    
  relations:
    
# Articulos
ErpArticulos:
  comment: Artículos
  columns:
    Codigo:            { type: string(25), notnull: true, index: unique}
    Descripcion:       { type: string(255), notnull: true, index: index }
    IDCategoria:       { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpFamilias,Id' }
    IDFamilia:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpFamilias,Id' }
    IDSubfamilia:      { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpFamilias,Id' }
    IDMarca:           { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpMarcas,Id' }
    Pvd:               { type: decimal(), notnull: true, default: 0}
    Pvp:               { type: decimal(), notnull: true, default: 0}
    Margen:            { type: decimal(), notnull: true, default: 0}
    Pmc:               { type: decimal(), notnull: true, default: 0}
    IDIva:             { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,CommImpuestos,Id'}    
    Etiqueta:          { type: string(30), notnull: false, default: NULL, index: index }
    CodigoEAN:         { type: string(13), notnull: true }
    Caducidad:         { type: integer(4), notnull: true, default: 0 }
    Garantia:          { type: string(10), notnull: true, default: NULL }
    Peso:              { type: decimal(), notnull: true, default: 0 }
    Volumen:           { type: decimal(), notnull: true, default: 0 }
    Caracteristicas:   { type: text, notnull: false }
    FechaUltimoPrecio: { type: datetime, notnull: false, default: NULL }
    Vigente:           { type: tinyint(1), notnull: true, default: 1, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    Inventario:        { type: tinyint(1), notnull: true, default: 1, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    Trazabilidad:      { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }    
    BajoPedido:        { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    PackingCompras:    { type: decimal(), notnull: true, default: 1 }
    PackingVentas:     { type: decimal(), notnull: true, default: 1 } 
    Merma:             { type: decimal(), notnull: true, default: 0 } 
    BloqueoStock:      { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' } 
    IDEstado1:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpArticulosEstados,Id' }
    IDEstado2:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpArticulosEstados,Id' }
    IDEstado3:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpArticulosEstados,Id' }
    IDEstado4:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpArticulosEstados,Id' }
    IDEstado5:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpArticulosEstados,Id' }
    StockMinimo:       { type: decimal(), notnull: true, default: 0 } 
    StockMaximo:       { type: decimal(), notnull: true, default: 0 }
    MinimoVentaAlto:   { type: decimal(), notnull: true, default: 0 }
    MinimoVentaAncho:  { type: decimal(), notnull: true, default: 0 }    
    MinimoVenta:       { type: decimal(), notnull: true, default: 0 } 
    MultiploAlto:      { type: decimal(), notnull: true, default: 0 }  
    MultiploAncho:     { type: decimal(), notnull: true, default: 0 } 
    RecargoEnergetico: { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }     
    UMB:               { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpUnidadesMedida,Id' }
    UMC:               { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpUnidadesMedida,Id' }
    CUMC:              { type: decimal(), notnull: true, default: 1 }
    UMA:               { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpUnidadesMedida,Id' }    
    CUMA:              { type: decimal(), notnull: true, default: 1 }  
    UMV:               { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpUnidadesMedida,Id' }    
    CUMV:              { type: decimal(), notnull: true, default: 1 }     
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>    
  relations:
    
# Estados de los artículos
ErpArticulosEstados:
  comment: Estados de los artículos
  columns:
    Estado: { type: string(50), notnull: true }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>
  relations:
    
# Unidades de medida de los articulos
ErpUnidadesMedida:
  comment: Unidades de medida de los articulos
  columns:
    UnidadMedida: { type: string(10), notnull: true }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>   
  relations:    
    
# Almacenes
ErpAlmacenes:
  comment: Almacenes
  columns:
    Nombre:             { type: string(50), notnull: true, index: index }
    Direccion:          { type: string(50), notnull: true }
    Poblacion:          { type: string(50), notnull: true }
    IDProvincia:        { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,CommProvincias,Id' }
    CodigoPostal:       { type: string(10), notnull: true, default: 0 }
    Telefono:           { type: string(30), notnull: true, default: '' }
    Fax:                { type: string(30), notnull: true, default: '' }    
    EMail:              { type: string(50), notnull: true, default: '' }
    Tipo:               { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ErpAlmacenesTipos,IDTipo' }
    ControlUbicaciones: { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }    
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>    
  relations:
    
# Mapas de almacenes
ErpAlmacenesMapas:
  comment: Ubicaciones de almacenes
  columns:
    IDAlmacen: { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpAlmacenes,Id' }
    Ubicacion: { type: string(15), notnull: true, index: index }
    X:         { type: int(11), notnull: true, default: 0 }
    Y:         { type: int(11), notnull: true, default: 0 }
    Z:         { type: int(11), notnull: true, default: 0 }    
    Alto:      { type: decimal(), notnull: true, default: 0 }
    Ancho:     { type: decimal(), notnull: true, default: 0 }
    Fondo:     { type: decimal(), notnull: true, default: 0 }   
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>         
  relations:
    
# Lotes
ErpLotes:
  comment: Lotes
  columns:  
    IDArticulo:       { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpArticulos,Id'}
    Lote:             { type: string(25), notnull: true}
    FechaFabricacion: { type: date }
    FechaCaducidad:   { type: date }
    Vigente:          { type: tinyint(1), notnull: true, default: 1, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>       
  relations:
    
# Existencias
ErpExistencias:
  comment: Existencias
  columns:
    IDAlmacen:   { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpAlmacenes,Id' }
    IDUbicacion: { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpAlmacenesUbicaciones,Id' }    
    IDArticulo:  { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpArticulos,Id' }
    IDLote:      { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpLotes,Id' }
    Reales:      { type: decimal(), notnull: true, defautl: 0 }
    Pales:       { type: decimal(), notnull: true, defautl: 0 }  
    Cajas:       { type: decimal(), notnull: true, defautl: 0 } 
    Reservadas:  { type: decimal(), notnull: true, defautl: 0 }
    Entrando:    { type: decimal(), notnull: true, defautl: 0 }    
    Maximo:      { type: decimal(), notnull: true, defautl: 0 }  
    Minimo:      { type: decimal(), notnull: true, defautl: 0 }    
    EnDeposito:  { type: tinyint(1), notnull: true, defautl: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }    
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>          
  relations:

# Tipos de movimientos de almacen
ErpTiposMvtosAlmacen:
  comment: Tipos de movimientos de almacen
  columns:
    Descripcion:   { type: string(50), notnull: true }
    Signo:         { type: char(1), notnull: true, default: 'E', index: index, comment: 'Abstract,SignosMvtosAlmacen,IDTipo' }
    Uso:           { type: char(1), notnull: true, default: 'A', index: index, comment: 'Abstract,UsosMvtosAlmacen,IDTipo' }
    TipoDocumento: { type: string(25), notnull: true }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>       
  relations:
    
# Sucursales
ErpSucursales:
  comment: Sucursales/Delegaciones de la empresa
  columns:
    Nombre:             { type: string(50), notnull: true }
    Direccion:          { type: string(50), notnull: true }
    Poblacion:          { type: string(50), notnull: true }
    IDProvincia:        { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpProvincias,Id' }
    CodigoPostal:       { type: string(10), notnull: false }
    Telefono:           { type: string(30), notnull: false, default: NULL }
    Fax:                { type: string(30), notnull: false, default: NULL }
    EMail:              { type: string(50), notnull: false, default: NULL }
    IDResponsable:      { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,CpanUsuarios,Id' }
    CtaContableVentas:  { type: string(10), notnull: true, default: ''}
    CtaContableCompras: { type: string(10), notnull: true, default: ''}
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:

# Agencias de transporte
ErpAgencias:
  comment: Agencias de transporte
  columns:
    Agencia:       { type: string(50), notnull: false, default: NULL }
    Telefono:      { type: string(30), notnull: false, default: NULL }
    Fax:           { type: string(30), notnull: false, default: NULL }
    Web:           { type: string(50), notnull: false, default: NULL }    
    EMail:         { type: string(50), notnull: false, default: NULL }
    CosteEstandar: { type: decimal, notnull: true, default: '0.00' }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>      
  relations:

# Zonas de transporte
ErpZonasTransporte:
  comment: Zonas de transporte
  columns:
    Zona:       { type: string(50), notnull: true }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>      
  relations:    

# Tabla de portes
ErpTablaPortes:
  comment: Tarifas de portes
  columns:
    IDZona:    { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpZonasTransporte,Id' }
    IDAgencia: { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpAgencias,Id' }    
    Kilos:     { type: int(4), notnull: true, default: 0 }
    Importe:   { type: decimal, notnull: true, default: 0 }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:
    
# Contadores
ErpContadores:
  comment: Contadores de facturas, pedidos, etc
  columns:
    IDSucursal:  { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpSucursales,Id' }
    IDTipo:      { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ErpTiposContadores,IDTipo' }
    Serie:       { type: char(2), notnull: true }
    Contador:    { type: int(8), notnull: true, default: 0 }
    Predefinido: { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:
    
# TPVS
ErpTpvs:
  comment: Tpvs de cada sucursal
  columns:
    IDSucursal:    { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpSucursales,Id' }
    Nombre:        { type: string(50), notnull: true }
    AperturaCajon: { type: string(50), notnull: true }
    SaltoPagina:   { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    Estilo:        { type: string(50), notnull: true }
    IDDataFono1:   { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpDatafonos,Id' }
    IDDataFono2:   { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpDatafonos,Id' }
    IDDataFono3:   { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpDatafonos,Id' }
    IDDataFono4:   { type: bigint(11), notnull: true, default: 0, index: index, comment: 'db,ErpDatafonos,Id' }
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations: 
   
# Datafonos
ErpDatafonos:
  comment: Datafonos
  columns:
    Datafono: { type: string(50), notnull: true }
    Comision: { type: decimal, notnull: true, default: '0.00'}
    <?php include '../Cpanel/entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:     
     
   